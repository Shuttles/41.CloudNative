1. **一个pod的创建过程？每个组件干了什么**

   ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200523150007760.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mjk1MzAwNg==,size_16,color_FFFFFF,t_70)

   1. 用户使用create yaml创建pod，请求给apiseerver，**apiserver**.将yaml中的**属性信息(metadata)写入etcd**
   2. apiserver触发watch机制，通知调度器，调度器使用调度算法**选择node**，调度器将node信息给apiserver，apiserver_将绑定的node信息写入etcd
   3. apiserver又通过watch机制，调用kubelet，指定pod信息，触发docker run命令创建容器
   4. 创建完成之后反馈给kubelet, kubelet又将pod的状态信息给apiserver, apiserver又将pod的状态信息写入etcd。

   最终，kubectl get pods命令调用的是**etcd_的信息**

   > 如果是创建==deployment==呢？
   >
   > 在创建pod之前，**Controller-Manager**通过list-watch机制,监测发现新的deployment,将该资源加入到内部工作队列,发现该资源没有关联的pod和replicaset，启用**deployment controller**创建replicaset资源，再启用**replicaset controller**创建pod.

2. pv对象创建的流程？

3. 如果是创建StatefulSet呢？

4. **如果delete一个pod，会发生什么，细节**

   Controller会通过list-watch机制，发现pod少了一个，然后重新创建

5. **pod资源状态解析**

   ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200523161404219.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mjk1MzAwNg==,size_16,color_FFFFFF,t_70)

   